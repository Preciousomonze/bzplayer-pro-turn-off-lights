/* script to handle the lights off feature, trying to see if it'll be necessary to detect if its an iframe, or directly a video
 * Iframes are used when the video is from stuff like youtube, etc.
 * For now, its only working for the native links, if you get videos from youtube src,vimeo,etc, it loads into an iframe, so the effect wont working
 * still trying to sort that out, but quite busy. :0
 * @author Precious Omonzejele <omonze@peepsipi.com>
 */
var $=jQuery;var bzpshadowId="bzp-pk-shadow";var bzpvidClass='';var bzpvidzindex='';$(document).ready(function(){$('body').prepend('<div id="'+bzpshadowId+'"></div>');$("#"+bzpshadowId).css("height",$(document).height()).hide();function bzppkturnOffTheLights(elementClass){var _thevid=$("."+elementClass);_thevid.closest('.video-js').css('z-index','1999');$('#'+bzpshadowId).fadeIn()}
function bzppkturnOnTheLights(elementClass){var _thevid=$("."+elementClass);_thevid.closest('.video-js').css('z-index',bzpvidzindex);$('#'+bzpshadowId).fadeOut()}
function bzpiframeExec(){$('.video-js iframe').load(function(){alert("loaded");var theRand=Math.floor((Math.random()*400)+1);bzpvidClass="bzp-pk-vid-"+theRand;$(this).contains('video').addClass(bzpvidClass);console.log($('.'+bzpvidClass))})}
function bzpnativeVidExec(){var theRand=Math.floor((Math.random()*400)+1);bzpvidClass="bzp-pk-vid-"+theRand;bzpvidzindex=$('.video-js').css('z-index');$('.video-js video').addClass(bzpvidClass);var vidItself=$('.'+bzpvidClass);vidItself.on('playing',function(){bzppkturnOffTheLights(bzpvidClass)});vidItself.on('pause',function(){bzppkturnOnTheLights(bzpvidClass)});vidItself.on('ended',function(){bzppkturnOnTheLights(bzpvidClass)})}
if($('.video-js').hasClass('vjs-youtube')){alert('Sorry, the effect for youtube embeded videos isn\'t supported yet :( ')}
else{bzpnativeVidExec()}})